(this["webpackJsonpastro-api-app1"]=this["webpackJsonpastro-api-app1"]||[]).push([[0],{15:function(e,t,s){},17:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),n=s(8),l=s.n(n),c=(s(15),s(7)),i=s.n(c),o=s(9),h=s(2),d=s(3),u=s(5),j=s(4),p=(s(17),s(10)),b=s.n(p),m=s(0),f=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).state={originalResults:a.props.originalResults,results:a.props.results},a}return Object(d.a)(s,[{key:"makeHeadings",value:function(){var e=this,t=this.state.results;if(t.length){var s=[],a=[];for(var r in t[0])s.push(r);return s.unshift("#"),(a=s.map((function(t){return Object(m.jsxs)("th",{className:"results-tr",children:[Object(m.jsxs)("div",{className:"sorting-buttons",children:[Object(m.jsx)("p",{children:t}),Object(m.jsxs)("div",{className:"sorting-buttons-column",children:[Object(m.jsx)("button",{onClick:function(){return e.sortBodies(t,"increase")},children:Object(m.jsx)("i",{className:"fas fa-chevron-up"})}),Object(m.jsx)("button",{onClick:function(){return e.sortBodies(t,"decrease")},children:Object(m.jsx)("i",{className:"fas fa-chevron-down"})})]})]}),Object(m.jsxs)("div",{className:"small-search-form",children:[Object(m.jsx)("form",{children:Object(m.jsx)("input",{type:"text",className:"input-search",id:t})}),Object(m.jsx)("button",{onClick:function(){return e.search("".concat(t))},children:Object(m.jsx)("i",{className:"fas fa-search"})})]}),Object(m.jsx)("div",{id:String(t)+"err"})]},Math.random())})))[0]=Object(m.jsx)("th",{className:"results-tr",children:Object(m.jsx)("p",{children:"#"})},Math.random()),Object(m.jsx)("tr",{children:a})}return Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:"Results not found"},Math.random())},Math.random())}},{key:"makeResults",value:function(){var e=this.state.results,t=[];if(e){for(var s=0;s<e.length;s++){var a=[];for(var r in a.push(Object(m.jsx)("td",{children:s+1},Math.random())),e[s]){var n,l;if(Array.isArray(e[s][r])){var c=[];for(var i in e[s][r]){var o=JSON.stringify(e[s][r][i]);c.push(o)}n=c.join("\n").replaceAll("{","").replaceAll("}","").replaceAll('"'," ").replaceAll(",","\n").replaceAll("_"," ")}else if(!1===Array.isArray(e[s][r])&&null!==e[s][r]&&""!==e[s][r]){n=String(JSON.stringify(e[s][r])).replaceAll('"'," ").replaceAll("{","").replaceAll("}","")}else null!==e[s][r]&&"undefined"!==e[s][r]&&""!==e[s][r]||(n="---");if(n.length>40){var h=n.substr(0,15)+"...";l=Object(m.jsxs)(b.a,{className:"collapsible",trigger:h,children:["$",n]})}else l=n;a.push(Object(m.jsx)("td",{children:l},Math.random()))}t.push(Object(m.jsx)("tr",{children:a},Math.random()))}return Object(m.jsx)("tbody",{className:"results-tbody",children:t})}return Object(m.jsx)("tbody",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:"Results not found"},Math.random())},Math.random())})}},{key:"sortBodies",value:function(e,t){for(var s,a,r=this,n=e,l=t,c=this.state.results,i=c,o=0;o<c.length;o++){for(var h=o,d=o+1;d<c.length;d++){if(null==i[h][n]||null==i[d][n])s="0",a="0";else if("string"===typeof i[h][n]&&i[h][n].length<10)s=i[h][n],a=i[d][n];else if(Object.keys(i[h][n]).length>0&&Object.keys(i[d][n]).length>0){var u=[],j=[];for(var p in i[h][n])u.push(i[h][n][p]);for(var b in i[d][n])j.push(i[d][n][b]);s=u.join(),a=j.join()}else s=i[h][n],a=i[d][n];"increase"===l&&a<s&&(h=d),"decrease"===l&&a>s&&(h=d)}var m=i[o];i[o]=i[h],i[h]=m}this.setState({results:i},(function(){return console.log(r.state.results)}))}},{key:"convertToText",value:function(e){var t=this.state.results,s=[];for(var a in t[0])s.push(a);for(var r=0;r<t.length;r++){var n=[];for(var l in t[r]){var c=[];if(Array.isArray(t[r][l])){var i=[];for(var o in t[r][l]){var h=JSON.stringify(t[r][l][o]);i.push(h)}c=i.join("\n").replaceAll("{","").replaceAll("}","").replaceAll('"'," ").replaceAll(",","\n").replaceAll("_"," ")}else if(!1===Array.isArray(t[r][l])&&null!==t[r][l]&&""!==t[r][l]){c=String(JSON.stringify(t[r][l])).replaceAll('"'," ").replaceAll("{","").replaceAll("}","")}else null!==t[r][l]&&"undefined"!==t[r][l]&&""!==t[r][l]||(c="---");n.push(c)}s.push(n.join(","))}var d=s.join("\n"),u=document.createElement("a");"csv"===e?(u.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURI(d)),u.setAttribute("download","data_csv.csv")):(u.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURI(d)),u.setAttribute("download","data_text.txt")),u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)}},{key:"search",value:function(e){for(var t=this,s=e,a=document.getElementById(s).value,r=this.state.originalResults,n=[],l=0;l<r.length;l++){if(r[l][s]){var c=[];if(Array.isArray(r[l][s])){var i=[];for(var o in r[l][s]){var h=JSON.stringify(r[l][s][o]);i.push(h)}c=i.join("\n").replaceAll("{","").replaceAll("}","").replaceAll('"'," ").replaceAll(",","\n").replaceAll("_"," ")}else if(!1===Array.isArray(r[l][s])&&null!==r[l][s]&&""!==r[l][s]){c=String(JSON.stringify(r[l][s])).replaceAll('"'," ").replaceAll("{","").replaceAll("}","")}else null!==r[l][s]&&"undefined"!==r[l][s]&&""!==r[l][s]||(c="---");(r[l][s]===a||c.includes(a))&&n.push(r[l])}n.length>0?this.setState({results:n},(function(){return console.log(t.state.results)})):document.getElementById("".concat(s+"err")).innerHTML='<p className="search-error-msg">No results found.</p>'}}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"display-results",children:[Object(m.jsxs)("div",{className:"results-extra",children:[Object(m.jsx)("p",{children:"Download table as a file:"}),Object(m.jsxs)("button",{className:"button-csv",onClick:function(){return e.convertToText("csv")},children:[Object(m.jsx)("i",{className:"fas fa-file-download"})," CSV (.csv)"," "]}),Object(m.jsxs)("button",{className:"button-text",onClick:function(){return e.convertToText("text")},children:[Object(m.jsx)("i",{className:"fas fa-file-download"})," Plain Text (.txt)"," "]})]}),Object(m.jsx)("br",{}),Object(m.jsx)("div",{className:"table-wrapper",children:Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{className:"table-heading",children:this.makeHeadings()}),this.makeResults()]})})]})}}]),s}(a.Component),x=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(e){var a;return Object(h.a)(this,s),(a=t.call(this,e)).state={results:null},a}return Object(d.a)(s,[{key:"getResults",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var s=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({results:null},(function(){return console.log("null results :( "+s.state.results)})),e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){var t=s.findResultsArray(e);s.setState({results:t},(function(){return console.log(s.state.results)}))})).catch((function(e){console.log("Error: "+e),alert("No results found. Check the URL and make sure that response is in JSON format or try again later."),s.setState({results:null},(function(){return console.log("null results :( "+s.state.results)}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findResultsArray",value:function(e){var t=e;if(!0===Array.isArray(t))return t;if("object"===typeof t){var s=0;for(var a in t)s++;var r=[];for(var n in t){var l=[];!0===Array.isArray(t[n])&&(l=t[n]).length>r.length&&(r=l)}if(s>r.length){var c=[];return c[0]=t,c}var i=[],o=[];for(var h in t)!0===Array.isArray(t[h])&&(i=t[h]).length>o.length&&(o=i);return o}}},{key:"copyLinkText",value:function(e){document.getElementById(e).select(),document.execCommand("copy")}},{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("div",{className:"frame",children:[Object(m.jsxs)("div",{className:"description",children:[Object(m.jsx)("h1",{onLoad:function(){return e.getResults("https://astronomy-api-123.herokuapp.com/all")},children:"Astronomy API"}),Object(m.jsx)("h4",{children:"Solar System Planets and Moons"}),Object(m.jsx)("p",{children:"Astronomy API includes data of planets and moons inside the Solar System. It also includes a few of the nearby stars and exoplanets (planets outside of the Solar System). The data consists primarily of physical characteristics such as mass and radius and motion characteristics such as orbital speed. The API call returns results in JSON format of objects in an array."}),Object(m.jsxs)("p",{children:["API website:"," ",Object(m.jsx)("a",{href:"https://astronomy-api-123.herokuapp.com/",children:"https://astronomy-api-123.herokuapp.com/"})]}),Object(m.jsx)("h4",{children:"API Endpoints"}),Object(m.jsx)("table",{className:"table-1",children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"/all"})},Math.random()),Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"All objects including Solar System planets and moons, exoplanets, nearby stars, and their data"})},Math.random())]},Math.random()),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"/planets"})},Math.random()),Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"Planets in the Solar System and their data including mass, radius, temperature, and semimajor axis"})},Math.random())]},Math.random()),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"/moons"})},Math.random()),Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"Moons in the Solar System, the planets that they orbit, and other data including semi-major axis, eccentricity, orbital period, radius, and average orbital speed"})},Math.random())]},Math.random()),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"/exoplanets"})},Math.random()),Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"Closest planets outside of the Solar System, their host star, and other data including mass, radius, temperature, and semi-major axis"})},Math.random())]},Math.random()),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"/stars"})},Math.random()),Object(m.jsx)("td",{children:Object(m.jsx)("p",{children:"Closest stars outside of the Solar System, constellation they are in, and other data including ascension and declination, apparent magnitude, spectral type, and mass"})},Math.random())]},Math.random())]})}),Object(m.jsx)("h4",{children:"Data Table"}),Object(m.jsx)("p",{children:"Try the links below to view the API data in a table. Users can search and sort the data table as well as download the table in plain text or CSV format. Please wait a few seconds for the results to load."}),Object(m.jsx)("h4",{children:"Try these requests:"}),Object(m.jsxs)("ol",{children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("textarea",{cols:"50",rows:"2",readOnly:!0,value:"https://astronomy-api-123.herokuapp.com/all",id:"link1"}),Object(m.jsx)("button",{onClick:function(){return e.getResults("https://astronomy-api-123.herokuapp.com/all")},children:Object(m.jsx)("i",{className:"fas fa-search"})})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("textarea",{cols:"50",rows:"2",readOnly:!0,value:"https://astronomy-api-123.herokuapp.com/planets",id:"link2"}),Object(m.jsx)("button",{onClick:function(){return e.getResults("https://astronomy-api-123.herokuapp.com/planets")},children:Object(m.jsx)("i",{className:"fas fa-search"})})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("textarea",{cols:"50",rows:"2",readOnly:!0,value:"https://astronomy-api-123.herokuapp.com/moons",id:"link3"}),Object(m.jsx)("button",{onClick:function(){return e.getResults("https://astronomy-api-123.herokuapp.com/moons")},children:Object(m.jsx)("i",{className:"fas fa-search"})})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("textarea",{cols:"50",rows:"2",readOnly:!0,value:"https://astronomy-api-123.herokuapp.com/exoplanets",id:"link4"}),Object(m.jsx)("button",{onClick:function(){return e.getResults("https://astronomy-api-123.herokuapp.com/exoplanets")},children:Object(m.jsx)("i",{className:"fas fa-search"})})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("textarea",{cols:"50",rows:"2",readOnly:!0,value:"https://astronomy-api-123.herokuapp.com/stars",id:"link5"}),Object(m.jsx)("button",{onClick:function(){return e.getResults("https://astronomy-api-123.herokuapp.com/stars")},children:Object(m.jsx)("i",{className:"fas fa-search"})})]})]})]}),Object(m.jsx)("h4",{children:"Results:"}),Object(m.jsx)("div",{className:"results",children:null!==this.state.results?Object(m.jsx)(f,{results:this.state.results,originalResults:this.state.results}):Object(m.jsx)("p",{children:"No results. Try one of the requests above."})}),Object(m.jsxs)("footer",{children:[Object(m.jsx)("hr",{}),Object(m.jsxs)("p",{children:[Object(m.jsx)("i",{className:"fab fa-github"})," GitHub:"," ",Object(m.jsx)("a",{href:"https://github.com/ari-abr/astro-api-app1",children:"https://github.com/ari-abr/astro-api-app1"})]}),Object(m.jsxs)("p",{children:["Made with"," ",Object(m.jsxs)("a",{href:"https://reactjs.org/",children:["React.js",Object(m.jsx)("i",{className:"fab fa-react"})]})]}),Object(m.jsx)("p",{children:"By A. A."})]})]})})}}]),s}(a.Component),O=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,20)).then((function(t){var s=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,l=t.getTTFB;s(e),a(e),r(e),n(e),l(e)}))};l.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),O()}},[[19,1,2]]]);
//# sourceMappingURL=main.8ab3bffa.chunk.js.map